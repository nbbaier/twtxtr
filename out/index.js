#!/usr/bin/env node
var A0=Object.create;var{defineProperty:T0,getPrototypeOf:B0,getOwnPropertyNames:E0}=Object;var G0=Object.prototype.hasOwnProperty;var I0=(j,Y,A)=>{A=j!=null?A0(B0(j)):{};const F=Y||!j||!j.__esModule?T0(A,"default",{value:j,enumerable:!0}):A;for(let x of E0(j))if(!G0.call(F,x))T0(F,x,{get:()=>j[x],enumerable:!0});return F};var N0=(j,Y)=>()=>(Y||j((Y={exports:{}}).exports,Y),Y.exports);var Z0=N0((o,l)=>{(function(j,Y){typeof o=="object"&&typeof l!="undefined"?l.exports=Y():typeof define=="function"&&define.amd?define(Y):(j=typeof globalThis!="undefined"?globalThis:j||self).dayjs=Y()})(o,function(){var j=1000,Y=60000,A=3600000,F="millisecond",x="second",_="minute",T="hour",Z="day",J="week",W="month",I="quarter",K="year",N="date",G="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,P=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,U={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(z){var V=["th","st","nd","rd"],H=z%100;return"["+z+(V[(H-20)%10]||V[H]||V[0])+"]"}},h=function(z,V,H){var q=String(z);return!q||q.length>=V?z:""+Array(V+1-q.length).join(H)+z},s={s:h,z:function(z){var V=-z.utcOffset(),H=Math.abs(V),q=Math.floor(H/60),Q=H%60;return(V<=0?"+":"-")+h(q,2,"0")+":"+h(Q,2,"0")},m:function z(V,H){if(V.date()<H.date())return-z(H,V);var q=12*(H.year()-V.year())+(H.month()-V.month()),Q=V.clone().add(q,W),B=H-Q<0,E=V.clone().add(q+(B?-1:1),W);return+(-(q+(H-Q)/(B?Q-E:E-Q))||0)},a:function(z){return z<0?Math.ceil(z)||0:Math.floor(z)},p:function(z){return{M:W,y:K,w:J,d:Z,D:N,h:T,m:_,s:x,ms:F,Q:I}[z]||String(z||"").toLowerCase().replace(/s$/,"")},u:function(z){return z===void 0}},y="en",c={};c[y]=U;var r="$isDayjsObject",a=function(z){return z instanceof m||!(!z||!z[r])},g=function z(V,H,q){var Q;if(!V)return y;if(typeof V=="string"){var B=V.toLowerCase();c[B]&&(Q=B),H&&(c[B]=H,Q=B);var E=V.split("-");if(!Q&&E.length>1)return z(E[0])}else{var X=V.name;c[X]=V,Q=X}return!q&&Q&&(y=Q),Q||!q&&y},M=function(z,V){if(a(z))return z.clone();var H=typeof V=="object"?V:{};return H.date=z,H.args=arguments,new m(H)},R=s;R.l=g,R.i=a,R.w=function(z,V){return M(z,{locale:V.$L,utc:V.$u,x:V.$x,$offset:V.$offset})};var m=function(){function z(H){this.$L=g(H.locale,null,!0),this.parse(H),this.$x=this.$x||H.x||{},this[r]=!0}var V=z.prototype;return V.parse=function(H){this.$d=function(q){var{date:Q,utc:B}=q;if(Q===null)return new Date(NaN);if(R.u(Q))return new Date;if(Q instanceof Date)return new Date(Q);if(typeof Q=="string"&&!/Z$/i.test(Q)){var E=Q.match(k);if(E){var X=E[2]-1||0,L=(E[7]||"0").substring(0,3);return B?new Date(Date.UTC(E[1],X,E[3]||1,E[4]||0,E[5]||0,E[6]||0,L)):new Date(E[1],X,E[3]||1,E[4]||0,E[5]||0,E[6]||0,L)}}return new Date(Q)}(H),this.init()},V.init=function(){var H=this.$d;this.$y=H.getFullYear(),this.$M=H.getMonth(),this.$D=H.getDate(),this.$W=H.getDay(),this.$H=H.getHours(),this.$m=H.getMinutes(),this.$s=H.getSeconds(),this.$ms=H.getMilliseconds()},V.$utils=function(){return R},V.isValid=function(){return this.$d.toString()!==G},V.isSame=function(H,q){var Q=M(H);return this.startOf(q)<=Q&&Q<=this.endOf(q)},V.isAfter=function(H,q){return M(H)<this.startOf(q)},V.isBefore=function(H,q){return this.endOf(q)<M(H)},V.$g=function(H,q,Q){return R.u(H)?this[q]:this.set(Q,H)},V.unix=function(){return Math.floor(this.valueOf()/1000)},V.valueOf=function(){return this.$d.getTime()},V.startOf=function(H,q){var Q=this,B=!!R.u(q)||q,E=R.p(H),X=function($,w){var p=R.w(Q.$u?Date.UTC(Q.$y,w,$):new Date(Q.$y,w,$),Q);return B?p:p.endOf(Z)},L=function($,w){return R.w(Q.toDate()[$].apply(Q.toDate("s"),(B?[0,0,0,0]:[23,59,59,999]).slice(w)),Q)},S=this.$W,C=this.$M,O=this.$D,d="set"+(this.$u?"UTC":"");switch(E){case K:return B?X(1,0):X(31,11);case W:return B?X(1,C):X(0,C+1);case J:var v=this.$locale().weekStart||0,u=(S<v?S+7:S)-v;return X(B?O-u:O+(6-u),C);case Z:case N:return L(d+"Hours",0);case T:return L(d+"Minutes",1);case _:return L(d+"Seconds",2);case x:return L(d+"Milliseconds",3);default:return this.clone()}},V.endOf=function(H){return this.startOf(H,!1)},V.$set=function(H,q){var Q,B=R.p(H),E="set"+(this.$u?"UTC":""),X=(Q={},Q[Z]=E+"Date",Q[N]=E+"Date",Q[W]=E+"Month",Q[K]=E+"FullYear",Q[T]=E+"Hours",Q[_]=E+"Minutes",Q[x]=E+"Seconds",Q[F]=E+"Milliseconds",Q)[B],L=B===Z?this.$D+(q-this.$W):q;if(B===W||B===K){var S=this.clone().set(N,1);S.$d[X](L),S.init(),this.$d=S.set(N,Math.min(this.$D,S.daysInMonth())).$d}else X&&this.$d[X](L);return this.init(),this},V.set=function(H,q){return this.clone().$set(H,q)},V.get=function(H){return this[R.p(H)]()},V.add=function(H,q){var Q,B=this;H=Number(H);var E=R.p(q),X=function(C){var O=M(B);return R.w(O.date(O.date()+Math.round(C*H)),B)};if(E===W)return this.set(W,this.$M+H);if(E===K)return this.set(K,this.$y+H);if(E===Z)return X(1);if(E===J)return X(7);var L=(Q={},Q[_]=Y,Q[T]=A,Q[x]=j,Q)[E]||1,S=this.$d.getTime()+H*L;return R.w(S,this)},V.subtract=function(H,q){return this.add(-1*H,q)},V.format=function(H){var q=this,Q=this.$locale();if(!this.isValid())return Q.invalidDate||G;var B=H||"YYYY-MM-DDTHH:mm:ssZ",E=R.z(this),X=this.$H,L=this.$m,S=this.$M,C=Q.weekdays,O=Q.months,d=Q.meridiem,v=function(w,p,b,f){return w&&(w[p]||w(q,B))||b[p].slice(0,f)},u=function(w){return R.s(X%12||12,w,"0")},$=d||function(w,p,b){var f=w<12?"AM":"PM";return b?f.toLowerCase():f};return B.replace(P,function(w,p){return p||function(b){switch(b){case"YY":return String(q.$y).slice(-2);case"YYYY":return R.s(q.$y,4,"0");case"M":return S+1;case"MM":return R.s(S+1,2,"0");case"MMM":return v(Q.monthsShort,S,O,3);case"MMMM":return v(O,S);case"D":return q.$D;case"DD":return R.s(q.$D,2,"0");case"d":return String(q.$W);case"dd":return v(Q.weekdaysMin,q.$W,C,2);case"ddd":return v(Q.weekdaysShort,q.$W,C,3);case"dddd":return C[q.$W];case"H":return String(X);case"HH":return R.s(X,2,"0");case"h":return u(1);case"hh":return u(2);case"a":return $(X,L,!0);case"A":return $(X,L,!1);case"m":return String(L);case"mm":return R.s(L,2,"0");case"s":return String(q.$s);case"ss":return R.s(q.$s,2,"0");case"SSS":return R.s(q.$ms,3,"0");case"Z":return E}return null}(w)||E.replace(":","")})},V.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},V.diff=function(H,q,Q){var B,E=this,X=R.p(q),L=M(H),S=(L.utcOffset()-this.utcOffset())*Y,C=this-L,O=function(){return R.m(E,L)};switch(X){case K:B=O()/12;break;case W:B=O();break;case I:B=O()/3;break;case J:B=(C-S)/604800000;break;case Z:B=(C-S)/86400000;break;case T:B=C/A;break;case _:B=C/Y;break;case x:B=C/j;break;default:B=C}return Q?B:R.a(B)},V.daysInMonth=function(){return this.endOf(W).$D},V.$locale=function(){return c[this.$L]},V.locale=function(H,q){if(!H)return this.$L;var Q=this.clone(),B=g(H,q,!0);return B&&(Q.$L=B),Q},V.clone=function(){return R.w(this.$d,this)},V.toDate=function(){return new Date(this.valueOf())},V.toJSON=function(){return this.isValid()?this.toISOString():null},V.toISOString=function(){return this.$d.toISOString()},V.toString=function(){return this.$d.toUTCString()},z}(),e=m.prototype;return M.prototype=e,[["$ms",F],["$s",x],["$m",_],["$H",T],["$W",Z],["$M",W],["$y",K],["$D",N]].forEach(function(z){e[z[1]]=function(V){return this.$g(V,z[0],z[1])}}),M.extend=function(z,V){return z.$i||(z(V,m,M),z.$i=!0),M},M.locale=g,M.isDayjs=a,M.unix=function(z){return M(1000*z)},M.en=c[y],M.Ls=c,M.p={},M})});var z0=I0(Z0(),1);var{appendFile:h0}=(()=>({}));var{create:R0,defineProperty:n,getOwnPropertyDescriptor:U0,getOwnPropertyNames:X0,getPrototypeOf:x0}=Object,L0=Object.prototype.hasOwnProperty,M0=(j,Y)=>()=>(Y||j((Y={exports:{}}).exports,Y),Y.exports),S0=(j,Y)=>{for(var A in Y)n(j,A,{get:Y[A],enumerable:!0})},i=(j,Y,A,F)=>{if(Y&&typeof Y=="object"||typeof Y=="function")for(let x of X0(Y))!L0.call(j,x)&&x!==A&&n(j,x,{get:()=>Y[x],enumerable:!(F=U0(Y,x))||F.enumerable});return j},F0=(j,Y,A)=>(i(j,Y,"default"),A&&i(A,Y,"default")),j0=(j,Y,A)=>(A=j!=null?R0(x0(j)):{},i(Y||!j||!j.__esModule?n(A,"default",{value:j,enumerable:!0}):A,j)),H0=M0((j,Y)=>{function A(T){if(typeof T!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(T))}function F(T,Z){for(var J="",W=0,I=-1,K=0,N,G=0;G<=T.length;++G){if(G<T.length)N=T.charCodeAt(G);else{if(N===47)break;N=47}if(N===47){if(!(I===G-1||K===1))if(I!==G-1&&K===2){if(J.length<2||W!==2||J.charCodeAt(J.length-1)!==46||J.charCodeAt(J.length-2)!==46){if(J.length>2){var k=J.lastIndexOf("/");if(k!==J.length-1){k===-1?(J="",W=0):(J=J.slice(0,k),W=J.length-1-J.lastIndexOf("/")),I=G,K=0;continue}}else if(J.length===2||J.length===1){J="",W=0,I=G,K=0;continue}}Z&&(J.length>0?J+="/..":J="..",W=2)}else J.length>0?J+="/"+T.slice(I+1,G):J=T.slice(I+1,G),W=G-I-1;I=G,K=0}else N===46&&K!==-1?++K:K=-1}return J}function x(T,Z){var J=Z.dir||Z.root,W=Z.base||(Z.name||"")+(Z.ext||"");return J?J===Z.root?J+W:J+T+W:W}var _={resolve:function(){for(var T="",Z=!1,J,W=arguments.length-1;W>=-1&&!Z;W--){var I;W>=0?I=arguments[W]:(J===void 0&&(J=process.cwd()),I=J),A(I),I.length!==0&&(T=I+"/"+T,Z=I.charCodeAt(0)===47)}return T=F(T,!Z),Z?T.length>0?"/"+T:"/":T.length>0?T:"."},normalize:function(T){if(A(T),T.length===0)return".";var Z=T.charCodeAt(0)===47,J=T.charCodeAt(T.length-1)===47;return T=F(T,!Z),T.length===0&&!Z&&(T="."),T.length>0&&J&&(T+="/"),Z?"/"+T:T},isAbsolute:function(T){return A(T),T.length>0&&T.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var T,Z=0;Z<arguments.length;++Z){var J=arguments[Z];A(J),J.length>0&&(T===void 0?T=J:T+="/"+J)}return T===void 0?".":_.normalize(T)},relative:function(T,Z){if(A(T),A(Z),T===Z||(T=_.resolve(T),Z=_.resolve(Z),T===Z))return"";for(var J=1;J<T.length&&T.charCodeAt(J)===47;++J);for(var W=T.length,I=W-J,K=1;K<Z.length&&Z.charCodeAt(K)===47;++K);for(var N=Z.length,G=N-K,k=I<G?I:G,P=-1,U=0;U<=k;++U){if(U===k){if(G>k){if(Z.charCodeAt(K+U)===47)return Z.slice(K+U+1);if(U===0)return Z.slice(K+U)}else I>k&&(T.charCodeAt(J+U)===47?P=U:U===0&&(P=0));break}var h=T.charCodeAt(J+U),s=Z.charCodeAt(K+U);if(h!==s)break;h===47&&(P=U)}var y="";for(U=J+P+1;U<=W;++U)(U===W||T.charCodeAt(U)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+Z.slice(K+P):(K+=P,Z.charCodeAt(K)===47&&++K,Z.slice(K))},_makeLong:function(T){return T},dirname:function(T){if(A(T),T.length===0)return".";for(var Z=T.charCodeAt(0),J=Z===47,W=-1,I=!0,K=T.length-1;K>=1;--K)if(Z=T.charCodeAt(K),Z===47){if(!I){W=K;break}}else I=!1;return W===-1?J?"/":".":J&&W===1?"//":T.slice(0,W)},basename:function(T,Z){if(Z!==void 0&&typeof Z!="string")throw new TypeError('"ext" argument must be a string');A(T);var J=0,W=-1,I=!0,K;if(Z!==void 0&&Z.length>0&&Z.length<=T.length){if(Z.length===T.length&&Z===T)return"";var N=Z.length-1,G=-1;for(K=T.length-1;K>=0;--K){var k=T.charCodeAt(K);if(k===47){if(!I){J=K+1;break}}else G===-1&&(I=!1,G=K+1),N>=0&&(k===Z.charCodeAt(N)?--N===-1&&(W=K):(N=-1,W=G))}return J===W?W=G:W===-1&&(W=T.length),T.slice(J,W)}else{for(K=T.length-1;K>=0;--K)if(T.charCodeAt(K)===47){if(!I){J=K+1;break}}else W===-1&&(I=!1,W=K+1);return W===-1?"":T.slice(J,W)}},extname:function(T){A(T);for(var Z=-1,J=0,W=-1,I=!0,K=0,N=T.length-1;N>=0;--N){var G=T.charCodeAt(N);if(G===47){if(!I){J=N+1;break}continue}W===-1&&(I=!1,W=N+1),G===46?Z===-1?Z=N:K!==1&&(K=1):Z!==-1&&(K=-1)}return Z===-1||W===-1||K===0||K===1&&Z===W-1&&Z===J+1?"":T.slice(Z,W)},format:function(T){if(T===null||typeof T!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof T);return x("/",T)},parse:function(T){A(T);var Z={root:"",dir:"",base:"",ext:"",name:""};if(T.length===0)return Z;var J=T.charCodeAt(0),W=J===47,I;W?(Z.root="/",I=1):I=0;for(var K=-1,N=0,G=-1,k=!0,P=T.length-1,U=0;P>=I;--P){if(J=T.charCodeAt(P),J===47){if(!k){N=P+1;break}continue}G===-1&&(k=!1,G=P+1),J===46?K===-1?K=P:U!==1&&(U=1):K!==-1&&(U=-1)}return K===-1||G===-1||U===0||U===1&&K===G-1&&K===N+1?G!==-1&&(N===0&&W?Z.base=Z.name=T.slice(1,G):Z.base=Z.name=T.slice(N,G)):(N===0&&W?(Z.name=T.slice(1,K),Z.base=T.slice(1,G)):(Z.name=T.slice(N,K),Z.base=T.slice(N,G)),Z.ext=T.slice(K,G)),N>0?Z.dir=T.slice(0,N-1):W&&(Z.dir="/"),Z},sep:"/",delimiter:":",win32:null,posix:null};_.posix=_,Y.exports=_}),J0={};S0(J0,{default:()=>D});F0(J0,j0(H0()));var D=j0(H0());var{default:V0}=(()=>({}));var{create:_0,defineProperty:K0,getOwnPropertyDescriptor:k0,getOwnPropertyNames:C0,getPrototypeOf:P0}=Object,w0=Object.prototype.hasOwnProperty,O0=(j,Y)=>()=>(Y||j((Y={exports:{}}).exports,Y),Y.exports),y0=(j,Y,A,F)=>{if(Y&&typeof Y=="object"||typeof Y=="function")for(let x of C0(Y))!w0.call(j,x)&&x!==A&&K0(j,x,{get:()=>Y[x],enumerable:!(F=k0(Y,x))||F.enumerable});return j},p0=(j,Y,A)=>(A=j!=null?_0(P0(j)):{},y0(Y||!j||!j.__esModule?K0(A,"default",{value:j,enumerable:!0}):A,j)),D0=O0((j)=>{j.endianness=function(){return"LE"},j.hostname=function(){return typeof location<"u"?location.hostname:""},j.loadavg=function(){return[]},j.uptime=function(){return 0},j.freemem=function(){return Number.MAX_VALUE},j.totalmem=function(){return Number.MAX_VALUE},j.cpus=function(){return[]},j.type=function(){return"Browser"},j.release=function(){return typeof navigator<"u"?navigator.appVersion:""},j.networkInterfaces=j.getNetworkInterfaces=function(){return{}},j.arch=function(){return"javascript"},j.platform=function(){return"browser"},j.tmpdir=j.tmpDir=function(){return"/tmp"},j.EOL=`
`,j.homedir=function(){return"/"}}),Q0=p0(D0()),g0=Q0.default,{endianness:m0,hostname:f0,loadavg:s0,uptime:a0,freemem:o0,totalmem:l0,cpus:i0,type:n0,release:t0,arch:r0,platform:e0,tmpdir:T1,EOL:Z1,homedir:t,networkInterfaces:j1,getNetworkInterfaces:H1}=Q0.default;function q0(j){if(j[0]==="~")return D.join(t(),j.slice(1));return j}var c0=D.join(t(),".config","twtxtr"),W0=D.join(c0,"config.json"),v0=(j)=>{try{return JSON.parse(V0.readFileSync(j,"utf-8"))}catch(Y){return{}}},$0=()=>{try{return JSON.parse(V0.readFileSync(D.join(process.cwd(),"twtxtr.json"),"utf-8"))}catch(j){return{}}},Y0=(j)=>{const Y=v0(j),A=$0();if(Object.keys(Y).length===0&&Object.keys(A).length===0)throw new Error("No global or local configuration found");return{...Y,...A}};var d0=async()=>{const j=Y0(W0),Y=q0(j.twtxt.twtfile),A=D.dirname(Y),x=`git commitwtfileDirt -i ${Y} -m automated commit && git push`,_=process.argv.slice(2).join(" ");if(!(_.length>0))console.error("No message provided"),process.exit(1);const T=`${z0.default().format()}\t${_}\n`;try{h0(Y,T,"utf8");const Z=Bun.spawnSync(["git","commit","-i",A,"-m","automated message"],{cwd:A});if(Bun.spawnSync(["git","push","-v"],{cwd:A}).success&&Z.success)console.log("successfully committed and pushed")}catch(Z){console.error(`failed to commit and push: ${Z}`)}};d0();
